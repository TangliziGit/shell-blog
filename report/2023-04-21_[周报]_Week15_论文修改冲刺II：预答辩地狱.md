# [周报] 2023-15 论文修改Sprint#2 —— 预答辩地狱

# 工作

## 毕业论文

这周主要工作在于论文的背景修改。原因是在杭州的周一，我发现论文背景的所有挑战出现了大问题，也就是说全线崩溃。大概是这样的（估计我以后也看不懂了）：

1. 挑战一：主要是强调虚拟化目前不能模拟硬件设备，而且也不能挑战内核启动参数
   - 我觉得强调硬件设备没有意义，案例分析那里是针对内核构建的例子，跟这里没关系。而且内核启动参数也有点牵强。
2. 挑战二：降低集成耗时。原来的想法是像Jenkins这种可以私有部署的CI系统，它们只支持将流水线整体发送给某个物理机执行，所以粒度是流水线计划。这就会导致该机上的任务并发度会受到该机上CPU核心数的局限，那么集成耗时就会不太理想。而我们的系统水平扩展的粒度在流水线任务上，那么并发度可以方便扩展。
   - 但其实现有CI系统基本上都支持流水线任务粒度的水平扩展。
3. 挑战三：多CPU架构的支持
   - 这一点其实原本就有点难说通。像Jenkins这种可以物理机执行的就没这个问题，TravisCI会因为使用虚拟机而影响性能。

本来就感觉这些挑战有点牵强而且逻辑很乱。所以花了两天时间调研分析，我应该针对虚拟化的性能损失&不能模拟物理硬件问题，以及现有CI构建矩阵成本过大这些问题入手讲当前挑战。所以周三周四开始着手修改论文背景还有修改后的其他章节问题。

改出来大概这样：

- 挑战一：现有的虚拟化技术不能满足特定领域的软件测试需求
  - 性能损失：在高性能计算等领域，需要避免性能回退，但虚拟化环境中难以提供准确的性能结果
  - 特殊硬件：在嵌入式系统和驱动开发等领域，集成测试需要直接访问硬件设备
- 挑战二：现有持续集成系统支持构建矩阵的成本过高
  - 容器和虚拟机：无法模拟不同与宿主机的Linux内核；无法提供准确的性能测试结果
  - 物理机集群：需要大量成本用于购买、维护和管理物理节点

这样感觉会比较满意。但是仔细想想的话，能发现挑战一根本不是挑战，或者说跟挑战二的关系很大。例如虚拟机由性能损失和特殊硬件的问题，那么你就不用虚拟化不就行了么。这里又要引出挑战二了，不用类似虚拟化的机制，单纯用物理机就会让成本爆炸。这里应该的逻辑关系是这样的：针对需要避免性能回退的软件开发过程，你只能用物理机来做性能测试。那么如果你还要用构建矩阵来提供多个测试环境的话，这里的成本就会超级大。所以只要你用现有的CI系统来测多环境下的软件性能，那么一定要做权衡：花费大量成本获得准确的性能结果，还是降低成本但测不准性能（我愿称之为测不准原理（雾））。

## 预答辩

不同于上周作为候补选手，今天我是第一个讲的（害怕）。演讲过程没什么问题，最后老师们提了一些意见：

- 最重要是强化第一章。主要思路应该是说“如果内核构建要做性能回退的测试，那就只能在物理机上测”。再一点是最好找物理机上跑测试的工业化工具做个对比，从这个角度来给老师描绘系统。
- 案例要讲一个要整故事，要体现工作能够解决挑战。另外，案例演示的界面图要给画重点出来，不然字太小。
- 用例图不要太复杂，能引出主要功能即可。
- 非功能性需求要汇总到一起，来体现整体的需求，最后用一个表来描述非功能需求测试用例。

那这里顺便总结一下要做的事情。

1. 首先是改背景。去掉背景里提到的“高性能计算领域、嵌入式领域、驱动开发领域”的内容，因为后文的测试和案例都没体现能解决这些领域的问题。主要强调的是“避免性能回退”的主题。
    - 顺便牵一发动全身，要继续改摘要、研究背景、各章提到“挑战”的部分、还有总结。
2. 用例图减少一点include和use关系。
3. 非功能需求汇总，同时改非功能需求测试部分。

好在不用改代码做实验。

# 生活

## 大采购

紧张激烈的改论文和预答辩结束了，考虑去杭州开启新生活。上周租了新房子还有很多东西都需要买，所以周六进行了一次宜家大采购。买的东西倒是不多，不过买来一个大量杯做喝水的水杯，感觉是相当不错。

厨房用具也搞了搞。研究了如何挑选各种锅，最后决定买250块左右的不锈钢锅了。前前后后又买了些锅铲、漏勺、锅刷、案板啥的，准备开启高质量吃饭生活。不过锅都还没到，看了很多讲不锈钢锅的视频，已经跃跃欲试了。

## 有关锅的研究

这里总结下我的调研结果，下面会介绍如何选购锅，如何给不锈钢锅“开锅”，以及如何让不锈钢锅不粘这些问题的调研。

**如何选锅**

这一小节本文将主要描述目前市面上主要贩卖的炒锅类型，然后描述炒菜时需要关注锅的哪些属性，以及某些材质的属性优劣和维护成本。由这些对比，作者选出了适合进阶业余选手的炒锅类型——不锈钢锅。最后介绍作者选购不锈钢锅的要点以及权衡。

目前市场上主要有这样几种锅：生铁锅（铸铁锅）、熟铁锅、不锈钢、不粘锅（即带涂层的锅）、麦饭石锅、陶瓷锅、玻璃锅。除了带涂层的不粘锅可以配合任意材质，剩余炒锅因材质不同而具有不同物理属性，吸引了不同受众购买。目前针对炒锅而言，能够有效描述这些材质差异的物理属性有两种：导热性和储热性（热容量）。其中，导热性是指材料局部受热后，能向周围材料传递热量的能力。在炒菜场景下，导热性的差异体现在由于燃气灶释放热量不均匀而导致锅内食材受热不均的程度。热容量则是材料在一定温度下，能够容纳（或能够释放）热量的程度。在炒菜中，高热容量的锅能够有效降低食材后，锅内温度降低的多少。

了解不同材料的这两种物理属性的差异，就可以指导我们选购炒锅。下面我们将针对生铁锅、熟铁锅和不锈钢锅进行介绍。抛弃不粘锅、麦饭石锅、陶瓷锅和玻璃锅不讲的原因是，不粘锅就是一种不沾涂层覆盖在某些材质上而制作出的锅，麦饭石锅则有大量灰色文献说明其是带有不沾涂层的某些合金材料的锅，而陶瓷锅（砂锅）因为易碎等特性在炒菜场景下使用较少，最后玻璃锅因为导热性较差一般也不用于炒菜。一般而言，熟铁较于生铁其含碳量较低(~0.02%对比~2%含碳量)，而不锈钢则融入铬镍组成合金用于抵抗锈蚀。大致上它们的导热性排序为：熟铁>不锈钢>生铁，而热容量排序为：生铁>不锈钢>熟铁。另外，生铁由于含碳量较高导致材料较硬而延展性较差，一般使用铸造工艺而非锻压工艺制作，因而称为铸铁锅并且锅体较沉重。

现在我们可以对比三种炒锅了。首先，我们首先对比生铁锅和熟铁锅（因为二者较为相似），其次对比铁锅和不锈钢锅。首先是生铁锅vs.熟铁锅。由于材料和制作工艺的差异，生铁锅有着更为沉重的质量，搭配本就第一的热容量排行，使锅体更难由于引入食材而降温。但不足指出在于其过于厚重，导致使用比较费力，甚至存在被农村广泛使用的炉灶一体生铁锅。而熟铁锅由于使用锻压工艺制造拥有更轻的质量，有吸热快、省燃料、适合颠锅的特性，加上有最好的导热性所以受到专业厨师的欢迎。接下来比较铁锅和不锈钢锅。熟铁锅具有很多优良特性，但由于其材料容易生锈导致使用者需要学会并时常做保养。而使用不锈钢锅则不需要付出这个成本，加上不锈钢锅具有不差的导热性和热容量，受到更多业余炒菜爱好者的欢迎。

每种材质的锅都有不同的选购要点，本小节的最后部分将针对不锈钢锅介绍选购需求和权衡。不锈钢锅的选购需要考虑下面几点：是否有不沾涂层、局部夹层/全局夹层、夹层层数、锅底形状、手柄链接方式和重量。首先，我们尽量不去选择带有涂层的锅，原因是不沾涂层有使用限制、寿命和健康的说法。其中，不沾涂层容易被挂掉，所以最好不要烹饪贝类食材也不要用金属厨具。即使非常小心，涂层也会因为高温使用而消耗寿命。然后我们讨论夹层，夹层是一种除合金外能够组合各种金属材料的物理属性的方法，炒锅也不例外。纯不锈钢锅的导热性并不好，并且热容量也不能与某些金属相比。所以采用铝夹层来提高导热性，用铜夹层提高热容量就是一种行业通用做法。所以你可以对比夹层数量和夹层位置（锅底和锅体）来判断锅的好坏。接下来，锅底形状主要是考虑到使用燃气灶和电磁炉的场景了，前者使用圆形锅底能较好利用热量和受热面积，后者只能使用平底了。手柄链接方式是一个细节，铆接和焊接等的区别主要是那个大大的铆钉难以清理，而焊接等链接方式需要考虑安全性。最后的重量就不讨论了，越轻越好。权衡点主要就是夹层层数和钱钱了，作者作为贫穷研究生，选择了250元左右五层锅体的不锈钢锅，其他要点也都照顾到了比较不错的。

**如何“开锅”**

> https://www.zhihu.com/question/315159207/answer/623199201
> 
> 高温下油脂分解氧化形成一层坚硬类塑料的高分子层 无毒 不沾 以不饱和脂肪如亚麻籽 菜籽油形成的效果最好 猪油只不过是遗留下来的传统

在我理解中，开锅是针对铁锅易生锈的工艺，即通过给锅覆盖一层氧化层和油膜来达到不锈的效果。然而开锅带来的油膜还能提供不沾的副作用，这一点也可以在不锈钢锅上体现。这里先介绍不锈钢锅在使用前的操作，即去除出厂自带的工业油层，而非真的“开锅”。去掉油层也很简单，首先用锅烧开水，期间加入一些白醋。接下来等锅和水冷却下来倒掉，再用洗洁精洗一遍即可（锅底也要洗）。

**如何不粘**

> https://www.zhihu.com/question/67618691/answer/922961256
> 
> 热锅凉油本质是一种速效的给铁锅镀上不粘涂层的简化版养锅方式。
> 油在高温环境下会裂解成一系列化合物，其中一部分高分子聚合物就是我们养锅时的“不粘涂层”。
> 同时，这部分**低温油会短暂的将锅内温度降下来**，使锅体表面缝隙收缩，锁住高分子聚合物，将这个人工涂层锁在锅体表面。


要达成不粘的目的，一般有两种方法：不粘涂层和物理防粘。铁锅和不锈钢锅没有涂层，所以使用后者。首先粘锅的原因是，锅体内的细小缝隙被食材中的脂肪和蛋白质等物质填充，导致锅与食材发生粘连的现象。所以我们可以在锅内覆盖一层油膜，让细小缝隙被油填满即可不粘。一种物理防粘的手法是，在锅热后加入油并覆盖整锅（用较多的油或者用刷子刷满），待锅内出现油膜后（200摄氏度左右），放凉再进行一次上述操作。这样做的目的是，希望在高温下让缝隙胀大并填入油，等到温度降低后缝隙能够“吃住”油滴，再次烧热后即可不粘。

上面便是作者的调研结果，不过锅还没到货，没有具体操作不敢妄下定论。等到真正使用后，我再更新一些错误或更好用的方法。

## 运动

很久没有运动了，周三去了趟玄武湖跑了一段。最后腿痛了两天（太菜）。

不过今天刚拿到体重计，发现比在西安的时候减了两公斤。完全胜利。