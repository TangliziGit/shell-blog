# [周报] 2023-15 论文修改Sprint#2 —— 预答辩地狱

# 工作

## 毕业论文

这周主要工作在于论文的背景修改。原因是在杭州的周一，我发现论文背景的所有挑战出现了大问题，也就是说全线崩溃。大概是这样的（估计我以后也看不懂了）：

1. 挑战一：主要是强调虚拟化目前不能模拟硬件设备，而且也不能挑战内核启动参数
   - 我觉得强调硬件设备没有意义，案例分析那里是针对内核构建的例子，跟这里没关系。而且内核启动参数也有点牵强。
2. 挑战二：降低集成耗时。原来的想法是像Jenkins这种可以私有部署的CI系统，它们只支持将流水线整体发送给某个物理机执行，所以粒度是流水线计划。这就会导致该机上的任务并发度会受到该机上CPU核心数的局限，那么集成耗时就会不太理想。而我们的系统水平扩展的粒度在流水线任务上，那么并发度可以方便扩展。
   - 但其实现有CI系统基本上都支持流水线任务粒度的水平扩展。
3. 挑战三：多CPU架构的支持
   - 这一点其实原本就有点难说通。像Jenkins这种可以物理机执行的就没这个问题，TravisCI会因为使用虚拟机而影响性能。

本来就感觉这些挑战有点牵强而且逻辑很乱。所以花了两天时间调研分析，我应该针对虚拟化的性能损失&不能模拟物理硬件问题，以及现有CI构建矩阵成本过大这些问题入手讲当前挑战。所以周三周四开始着手修改论文背景还有修改后的其他章节问题。

改出来大概这样：

- 挑战一：现有的虚拟化技术不能满足特定领域的软件测试需求
  - 性能损失：在高性能计算等领域，需要避免性能回退，但虚拟化环境中难以提供准确的性能结果
  - 特殊硬件：在嵌入式系统和驱动开发等领域，集成测试需要直接访问硬件设备
- 挑战二：现有持续集成系统支持构建矩阵的成本过高
  - 容器和虚拟机：无法模拟不同与宿主机的Linux内核；无法提供准确的性能测试结果
  - 物理机集群：需要大量成本用于购买、维护和管理物理节点

这样感觉会比较满意。但是仔细想想的话，能发现挑战一根本不是挑战，或者说跟挑战二的关系很大。例如虚拟机由性能损失和特殊硬件的问题，那么你就不用虚拟化不就行了么。这里又要引出挑战二了，不用类似虚拟化的机制，单纯用物理机就会让成本爆炸。这里应该的逻辑关系是这样的：针对需要避免性能回退的软件开发过程，你只能用物理机来做性能测试。那么如果你还要用构建矩阵来提供多个测试环境的话，这里的成本就会超级大。所以只要你用现有的CI系统来测多环境下的软件性能，那么一定要做权衡：花费大量成本获得准确的性能结果，还是降低成本但测不准性能（我愿称之为测不准原理（雾））。

## 预答辩

不同于上周作为候补选手，今天我是第一个讲的（害怕）。演讲过程没什么问题，最后老师们提了一些意见：

- 最重要是强化第一章。主要思路应该是说“如果内核构建要做性能回退的测试，那就只能在物理机上测”。再一点是最好找物理机上跑测试的工业化工具做个对比，从这个角度来给老师描绘系统。
- 案例要讲一个要整故事，要体现工作能够解决挑战。另外，案例演示的界面图要给画重点出来，不然字太小。
- 用例图不要太复杂，能引出主要功能即可。
- 非功能性需求要汇总到一起，来体现整体的需求，最后用一个表来描述非功能需求测试用例。

那这里顺便总结一下要做的事情。

1. 首先是改背景。去掉背景里提到的“高性能计算领域、嵌入式领域、驱动开发领域”的内容，因为后文的测试和案例都没体现能解决这些领域的问题。主要强调的是“避免性能回退”的主题。
    - 顺便牵一发动全身，要继续改摘要、研究背景、各章提到“挑战”的部分、还有总结。
2. 用例图减少一点include和use关系。
3. 非功能需求汇总，同时改非功能需求测试部分。

好在不用改代码做实验。

# 生活

## 运动

很久没有运动了，周三去了趟玄武湖跑了一段。最后腿痛了两天（太菜）。

不过今天刚拿到体重计，发现比在西安的时候减了两公斤。完全胜利。