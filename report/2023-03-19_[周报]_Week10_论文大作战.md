# [周报] 2023-10 论文大作战

这是一篇后续补上的周报。

# 工作

## 实习

翻了以下聊天记录，发现8号的时候跟大佬讨论了一次设计。这次设计应该是没有问题了，带上了批量读写和原地更新的逻辑。然而真正能跑的原型还是没有写出来: (

说起来这周也只上了一天班，剩下的时间全部拿来写论文了。当初的目标是17号写完初稿。

## 毕业论文

没错，毕业设计的标题终于改到毕业论文了。这意味着我离毕业进了一步，距离当上社畜也差不了几周了（哭。

论文从周二开始马不停蹄写到周五，我记得是写到需求分析那里了。周六还在去成都的火车上写系统整体设计。详细说说的话，周二周三一直就在搞引言部分，因为我需要一个可靠的项目背景和文献来支撑毕设idea。想想这两天才是整个论文最难写的呀。后面周四，似乎一天就写好了相关概念和技术，也是找了一些文献凑引用。

所以这周精华在于确定了项目背景，希望解决或者缓解这些问题：

1. 嵌入式或实时系统的测试，需要依赖实体机硬件或修改内核启动参数。传统CI比较难做到，比如利用Jenkins分布式部署，或者用各种插件。这些方法都需要测试机正在运行的操作系统上，才能接收测试任务。
2. 需要做大量测试的软件系统，传统CI流水线中虽然支持分布式测试，但是不支持或者需要手动调整依赖文件的分发和每个测试单元的优先级（存在一些测试用例排序的研究，旨在将容易挂掉的测试排在前面，让流水线更快发现缺陷）。
3. 多CPU架构下的构建和测试。传统CI也不是不能做，就是类似 Jenkins + QEMU / Simics 这样的组合。这样性能是没法保证的。虽然可以异构分布式的传统CI方案，但是部署和维护又会比较麻烦。

那么怎么解决这几个问题捏？这时候神奇的MultipleCI系统就能帮助你了。大概方式如下：

- 针对1。在实体机上利用iPXE直接调度操作系统，如果需要调整内核参数的话，就修改流水线计划的配置即可。
- 针对2。MCI系统中每个作业/任务都是分离执行的，每个任务都可以自动调整优先级，同时也能原生地分发任务做到水平扩展。
- 针对3。MCI系统是通过测试机主动拉取任务做到的。同时iPXE可以支持很多CPU架构，只要你的Linux内核或者发行版支持这个架构，那就可以说基本上无痛加入测试机集群。

大概是这个逻辑，其实就是CompassCI的极简翻版，底层也是利用了LKP框架。其实还是很佩服这套架构和LKP框架的设计。

# 生活

## 运动

翻了翻上周的记录，应该是维持在72Kg了。无所谓，可以看看下个周报，这周体重还蛮给力的。

## 去成都玩玩！

周五对象大人面试结束很开心，打算一起到成都吃吃吃。

前前后后吃了超级多东西。引用一段对象大人的话：冰粉、天蚕土豆、老妈蹄花、烧卖、豆腐脑、绵阳米粉、泡椒兔丁、曹氏鸭脖、甜水面、豌杂面、绵绵冰、铁板鱿鱼、钵钵鸡、烧烤。吃下来感觉最好吃的是冰粉、豆腐脑、甜水面、豌杂面、钵钵鸡和豆花火锅。没有说其他的一般，这些都超级好吃，只是相较而言对我自己口味会逊色一点。

在回西安的火车上看到非常多绝景。其中一个画面非常美，构图是两边带梯田的小山，山路边有紫色的树，山谷比较深，也可能有小湖。非常可惜没有拍下来。

![chengdu](/static/image/2023-03-20/chengdu.jpg)