# [周报] 2023-01 总结与计划

对22年做了个总结，发现从下半年开始就几乎没有再整理过DIDA清单了，也就是没有固定的周期性的计划和总结了。回过头发现21年我其实做的很好，每个月会做一次月计划。周计划会附属在月计划下面，同时也会在周末整理总结。现在尝试用周报的形式再做一些记录，作为周计划的总结吧。

第一次写周报，试试看能写成什么样子。

# 工作

## 毕业设计

上周把kbuild lkp测试打包成initramfs，qemu+iPXE启动成功执行，并且能把测试结果上传到webdav中。所以这周的工作主要就是结束测试机和调度器的功能，并且整理出测试机环境和部署脚本。

说到编写shell脚本，我见到CompassCI里有些挺有意思的写法：

```shell
# 检查是否存在ipxe.iso，不存在则自动下载
ipxe_path="${MCI_HOME}/iso/ipxe.iso"
[[ -f "$ipxe_path" ]] || {
    echo "downloading: $ipxe_path"
    wget "http://boot.ipxe.org/ipxe.iso" -o "$ipxe_path"
}

# 检查是否存在br0，不存在则创建
ip link | grep -q "br0" || {
    sudo ip link add br0 type bridge
    sudo ip addr add 172.20.0.1/16 dev br0
    sudo ip link set br0 up
}

# 如果ES_PORT变量不存在，声明它并且赋值9200
# Ref: https://stackoverflow.com/a/28085062
: "${ES_PORT:=9200}"
```

前面两种基本上抛弃了`if`语句，看起来似乎舒服许多。但是我头一次看就觉得有些茫然，不知道还可以这样用`[[ -xxx ]]`。我担心的是严肃的项目里这种写法是否会降低代码可读性。后来看了google的shell规范，他们是严格按照`if`语句的写法走的。最后这种写法我真是一脸茫然，可读性确实不高。所以我认为这种轻松的写法，就在轻松的项目里用更合适。

这周的毕社工作不到两天就结束了，于是剩下的好几天就在干别的事情，比如总结CSAPP、年终总结、玩游戏这类事情。

# 学习

## 总结CSAPP

去年11月份跟了一遍CMU15213，不过当时很忙，于是就没有做笔记而是在CSAPP上做了写annotations。打算这段时间把已经学过的内容总结一下，顺带把malloc和proxy lab也写掉，还有体系结构的那节课补上。

# 生活

## 安排健身

健身已经安排上了！目前计划是用Keep减重到BMI20左右，然后去做些增肌的运动。太长时间没做运动了，这两天浑身酸痛（不过心里挺舒坦。

以后打算在周报里作为一个固定项目记录身体的变化吧。（就当是某种程度的监督吧

## 调整作息

自从在杭州打OB比赛以来，每天都是凌晨三四点睡觉，第二天差不多11点才醒。我一般晚上就不想学习/打工，就想刷手机😇。这直接导致我可用时间减少了。

现在基本上是12点躺，1点睡，9点多起。目前状态不错，能感受到时间变长许多。
